[gd_scene load_steps=22 format=4 uid="uid://dk5oa44nynlk2"]

[ext_resource type="Texture2D" uid="uid://buvwf34f0uik4" path="res://assets/tilemaps/tilemap_concept.png" id="1_sugp2"]
[ext_resource type="Script" uid="uid://f8d8460hbtgt" path="res://scripts/main_game.gd" id="1_tefeu"]
[ext_resource type="Texture2D" uid="uid://bcdbr4fjobibp" path="res://assets/sprites/player_temp.png" id="2_sugp2"]
[ext_resource type="Script" uid="uid://bfodxl1lg2mmt" path="res://scripts/player.gd" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://4cdnl5ekyt42" path="res://scenes/enemy_slime.tscn" id="5_o6xl0"]
[ext_resource type="Texture2D" uid="uid://d1hvm7fyhnsk1" path="res://assets/sprites/slime_concept.png" id="5_tbgi4"]
[ext_resource type="Script" uid="uid://bh5g3w3myoegc" path="res://scripts/enemy_slime.gd" id="5_tefeu"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jyhfs"]
texture = ExtResource("1_sugp2")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0

[sub_resource type="TileSet" id="TileSet_tbgi4"]
sources/0 = SubResource("TileSetAtlasSource_jyhfs")

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_0wfyh"]
radius = 6.0
height = 26.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tbgi4"]
size = Vector2(1380, 836)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_o6xl0"]

[sub_resource type="AtlasTexture" id="AtlasTexture_tefeu"]
atlas = ExtResource("5_tbgi4")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_o6xl0"]
atlas = ExtResource("5_tbgi4")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tipki"]
atlas = ExtResource("5_tbgi4")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_85g3d"]
atlas = ExtResource("5_tbgi4")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_choun"]
atlas = ExtResource("5_tbgi4")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ya4ey"]
atlas = ExtResource("5_tbgi4")
region = Rect2(128, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_eb6dy"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tefeu")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o6xl0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tipki")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_85g3d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_choun")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ya4ey")
}],
"loop": true,
"name": &"movement",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_tefeu"]
radius = 8.0
height = 22.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_tipki"]
height = 28.0

[node name="Node2D" type="Node2D"]
script = ExtResource("1_tefeu")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAEAAAABAAAAAAD//wEAAAABAAAAAAD9/wEAAAABAAAAAAD7/wEAAAABAAAAAAADAAEAAAACAAAAAAD7////AAAAAAAAAAD9////AAABAAAAAAD/////AAACAAAAAAABAP//AAACAAAAAAADAP//AAAAAAAAAAAFAP//AAAAAAAAAAAFAAEAAAAAAAAAAAD7//3/AAAAAAAAAAD5////AAABAAAAAAD5//3/AAABAAAAAAD3//3/AAABAAAAAAD3////AAACAAAAAAD5/wEAAAACAAAAAAD3/wEAAAABAAAAAAD1/wEAAAAAAAAAAADz/wEAAAAAAAAAAAD1/wMAAAAAAAAAAADz/wMAAAAAAAAAAAD3/wMAAAAAAAAAAAD5/wMAAAABAAAAAAD7/wMAAAABAAAAAAD9/wMAAAABAAAAAAD//wMAAAABAAAAAAABAAMAAAABAAAAAAADAAMAAAACAAAAAAAFAAMAAAACAAAAAAD1//3/AAACAAAAAAD1////AAACAAAAAADz////AAACAAAAAADz//3/AAABAAAAAAD9//3/AAABAAAAAAD///3/AAABAAAAAAABAP3/AAAAAAAAAAADAP3/AAAAAAAAAAAFAP3/AAACAAAAAAA=")
tile_set = SubResource("TileSet_tbgi4")

[node name="Player" type="CharacterBody2D" parent="."]
collision_mask = 3
platform_floor_layers = 4294967040
script = ExtResource("3_sugp2")
speed = 100

[node name="Sprite2D" type="Sprite2D" parent="Player"]
texture = ExtResource("2_sugp2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource("CapsuleShape2D_0wfyh")

[node name="Camera2D" type="Camera2D" parent="Player"]
zoom = Vector2(3, 3)

[node name="EnemySpawnArea" type="Area2D" parent="Player/Camera2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/Camera2D/EnemySpawnArea"]
shape = SubResource("RectangleShape2D_tbgi4")
debug_color = Color(0.82831407, 0.2682212, 0, 0.101960786)

[node name="HurtBox" type="Area2D" parent="Player"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/HurtBox"]
shape = SubResource("CapsuleShape2D_o6xl0")
debug_color = Color(1, 0, 0.13333334, 0.16078432)

[node name="EnemySlime" parent="." instance=ExtResource("5_o6xl0")]
position = Vector2(50, 0)

[node name="EnemySlime2" type="CharacterBody2D" parent="."]
position = Vector2(100, 0)
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4294967040
script = ExtResource("5_tefeu")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="EnemySlime2"]
sprite_frames = SubResource("SpriteFrames_eb6dy")
animation = &"movement"
autoplay = "movement"

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemySlime2"]
position = Vector2(1, 7)
rotation = 1.5707964
shape = SubResource("CapsuleShape2D_tefeu")

[node name="HitBox" type="Area2D" parent="EnemySlime2"]
position = Vector2(1, 7)

[node name="CollisionShape2D" type="CollisionShape2D" parent="EnemySlime2/HitBox"]
rotation = 1.5707964
shape = SubResource("CapsuleShape2D_tipki")
debug_color = Color(0, 0.64705884, 0.2784314, 0.12156863)

[node name="NotEnemy" type="CharacterBody2D" parent="."]
position = Vector2(200, 0)
collision_layer = 2
collision_mask = 3
platform_floor_layers = 4294967040
script = ExtResource("5_tefeu")
entity_type = "NotEnemy"

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="NotEnemy"]
sprite_frames = SubResource("SpriteFrames_eb6dy")
animation = &"movement"
autoplay = "movement"

[node name="CollisionShape2D" type="CollisionShape2D" parent="NotEnemy"]
position = Vector2(1, 7)
rotation = 1.5707964
shape = SubResource("CapsuleShape2D_tefeu")

[node name="HitBox" type="Area2D" parent="NotEnemy"]
position = Vector2(1, 7)

[node name="CollisionShape2D" type="CollisionShape2D" parent="NotEnemy/HitBox"]
rotation = 1.5707964
shape = SubResource("CapsuleShape2D_tipki")
debug_color = Color(0, 0.64705884, 0.2784314, 0.12156863)

[connection signal="ready" from="." to="." method="_on_ready"]
[connection signal="area_entered" from="Player/HurtBox" to="Player" method="_on_hurt_box_area_entered"]
[connection signal="area_exited" from="Player/HurtBox" to="Player" method="_on_hurt_box_area_exited"]
